---
layout: post
title: ASP.NET FRAMEWORK WEBFORM(1)
date: 2021-08-10 23:55:10
---

### 개념 정리

.NET Framework의 새로운 웹 어플리케이션 (C# 솔루션)을 만들때, 유저는 다음의 3가지 핵심 참조 중 1개 이상을 선택 할 수 있다.  

- Web Forms
- MVC
- Web API

이번에 다뤄 볼 내용은 Web Form 이다.

-----------------------

처음 템플랫 생성 구간에서 클라우드를 사용할 것인지, docker을 사용할 것인지, 인증 변경을 할 것인지를 정할 수 있다.  
인증 변경을 개별 사용자 계정으로 하게 되면, 로그인, 로그아웃, 회원가입의 기능을 기본으로 제공해 준다.  

------------------------

닷넷 개발에 적합한 환경인 Microsoft Visual Studio의 인터페이스를 알면 닷넷 프레임워크의 이용이 더 수월해진다.  

기본적으로는 보기(V)의 솔루션탐색기를 켜줌으로써, 오른쪽 화면에 어떤 파일 시스템으로 솔루션이 이루어졌는지 확인해야한다.  

C#에서는 하나의 솔루션 (자바의 패키지같은 개념)에 여러개의 프로젝트가 들어갈 수 있다.  

프로젝트의 하위 폴더들로는 App_Data, App_Start, Model, Controller, View, Content, 등등 여러가지 폴더들이 있을 수 있는데 이는 처음 탬플렛을 뭐로 했냐에 따라 정해진다.  
하지만 기본적으로, Empty Template을 쓴다고 가정할 경우, 이 폴더들은 지워져도 무관하다.  

여기서 알아야 할 중요한 개념은 각 프로젝트의 Root는 웹사이트의 Root라는 것이며, 이 프로젝트의 하위 파일로는 웹 서버가 클라이언트에게 전해 줄 웹 페이지의 파일들이 자리잡게 될 것이다. 

```
즉, car.com 이라는 웹 사이트가 있을 때, 프로젝트의 Root가 car.com의 Root과 같다는 뜻은 프로젝트의 하위 파일로써 index.html, about.aspx등의 파일이 오게 될 경우,
car.com/,
car.com/about.aspx
식의 요청이 가능하며, 그에 맞는 웹 페이지를 받아온다는 것이다.
```

이런 파일의 추가는 프로젝트에 오른쪽 클릭, 추가(D)를 이용해 할 수 있다 (혹은 CTRL+SHIFT+A 단축키).  
이 때 확인할 수 있는 내용은 확장자에 대한 것으로, aspx는 webform을 위한 확장자, master은 마스터 페이지를 위한 확장자, cshtml은 mvc 5의 확장자라는 사실을 간략하게 알 수 있다.  

이렇게 생성된 html과 같은 파일은 비쥬얼 스튜디오 내부에서는 VS code와는 다르게 emmet과 같은 플러그인을 제공하지 않아 직접 태그를 작성해줘야 한다는 불편함이 있다.  

단축키 또한 조금 다른데 CTRL+D로 같은 구문을 선택 할 수 있는 vsc 명령어는 Shift+Alt+. 으로 쓸 수 있다.  
그 외에도, 자동 indentation은 CTRL+K+D, 코멘트 처리는 CTRL+K+C, 코멘트 처리해제는 CTRL+K+U등이 있다.

웹 페이지를 작성한 후에는, 오른쪽 솔루션 브라우저에서 해당 파일에 오른쪽 클릭 후 브라우저에서 보기를 하면 된다.  
IDE로써 비쥬얼 스튜디오의 좋은 점은 느리지만 이러한 컴파일 (html말고도 컴파일이 필요한 코드를) 기능을 수행한다는 점에 있다.  
혹은, 프로젝트에 오른쪽 클릭 후 시작 프로젝트로 설정을 한 후, F5나 ALT+F5를 통해 컴파일 후 실행도 가능하다.  

이렇게 프로젝트의 내부는 웹 애플리케이션의 루트와 같다는 것을 확인한 순간부터, HTML, CSS, JAVASCRIPT를 통한 웹 프로그래밍이 가능해진다.  
하지만 ASP의 고유의 기능을 쓰고 싶은 우리들의 입장에서는 .aspx파일의 쓰임새를 알 필요가 있다.  

즉 아까전에 프로젝트에 돌아가서 CTRL+SHIFT+A를 통해 새 항목을 만들고 WEBFORM, 즉 .aspx의 파일을 만들어 내용을 확인해보자.  

html의 index처럼, JSP나 ASPX과 같은 파일들은 기본적으로 Default라는 이름을 사용한다.  
Default.aspx라는 파일을 만들면 Default.aspx.cs와 Default.aspx.designer.cs 라는 두가지 파일이 추가적으로 만들어진 것을 확인할 수 있다.  

Default.aspx라는 파일 자체는 User Interface의 영역으로, 실제적으로 유저가 쓰는 html태그라던가의 부분을 담고 있다.  
Default.aspx.cs는 Code-behind file로 불리고, UI의 코드를 담당하는 C#파일이다.  
Default.aspx.designer.cs는 자동으로 생성되는 코드가 들어가는, 굳이 따지자면 건들 필요가 없는 파일이다.  

이러한 솔루션의 파일 구조는 WPF와 Window Form과 동일하다.  

이제 aspx 파일의 구조를 보면 기본적인 html에 <% %>과 같은 inline server code, 그리고 그 안에는 Page 지시문이 존재한다.  
이 때, 제일 윗줄에 생성된 Page 지시문을 확인하면, CodeBehind 파일을 AutoEventWireup을 통해 같이 쓰겠다는 것을 적어놓았는데, 이러한 CodeBehind의 파일로 넘어가기 위해선 F7 키를 누르면 된다.  


